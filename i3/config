# Mod key: super
set $mod Mod4

font xft: Hack 8

# Movement keys
set $up    k
set $down  j
set $left  h
set $right l

# kill focused window
bindsym $mod+Shift+q kill

# toggle fullscreen
bindsym F11 fullscreen toggle

# toggle split direction (v and h)
bindsym $mod+backslash split toggle

focus_follows_mouse false

# scratchpad
bindsym $mod+Shift+minus move scratchpad
bindsym $mod+minus scratchpad show

# change focus
bindsym $mod+$up    focus up
bindsym $mod+$down  focus down
bindsym $mod+$left  focus left
bindsym $mod+$right focus right

# move focused window
bindsym $mod+Shift+$up    move up
bindsym $mod+Shift+$down  move down
bindsym $mod+Shift+$left  move left
bindsym $mod+Shift+$right move right

# nagivate workspaces left/right
bindsym $mod+Ctrl+$right workspace next
bindsym $mod+Ctrl+$left  workspace prev

# switch to workspace
bindsym $mod+1 workspace 1
bindsym $mod+2 workspace 2
bindsym $mod+3 workspace 3
bindsym $mod+4 workspace 4
bindsym $mod+5 workspace 5
bindsym $mod+6 workspace 6
bindsym $mod+7 workspace 7

# move focused container to workspace
bindsym $mod+Shift+1 move container to workspace 1
bindsym $mod+Shift+2 move container to workspace 2
bindsym $mod+Shift+3 move container to workspace 3
bindsym $mod+Shift+4 move container to workspace 4
bindsym $mod+Shift+5 move container to workspace 5
bindsym $mod+Shift+6 move container to workspace 6
bindsym $mod+Shift+7 move container to workspace 7

# resize window
bindsym $mod+r mode "resize"
mode "resize" {
  bindsym $up    resize grow height 10 px or 10 ppt
  bindsym $down  resize shrink height 10 px or 10 ppt
  bindsym $left  resize shrink width 10 px or 10 ppt
  bindsym $right resize grow width 10 px or 10 ppt

  # back to normal: Enter or Escape
  bindsym Return mode "default"
  bindsym Escape mode "default"
}

# change container layout
bindsym $mod+Shift+s layout stacking
bindsym $mod+Shift+t layout tabbed
bindsym $mod+Shift+w layout toggle split
# toggle tiling / floating
bindsym $mod+Shift+f floating toggle

# reload the configuration file
bindsym $mod+Shift+c reload
# restart i3 inplace
bindsym $mod+Shift+r restart

# Gaps
gaps inner 15
gaps outer 0
new_window pixel 1
new_float pixel 1
smart_borders on
smart_gaps on
popup_during_fullscreen smart

# hide window borders
for_window [class="^.*"] border pixel 0

# maximum size for floating windows
floating_maximum_size 1366 x 768

# Colors
set $colorbg       #1b1918
set $colorfg       #ffffff
set $colorblk      #1b1918
set $colorbblk     #766e6b
set $colorred      #f22c40
set $colorbred     #f22c40
set $colorgrn      #5ab738
set $colorbgrn     #5ab738
set $colorylw      #d5911a
set $colorbylw     #d5911a
set $colorblu      #407ee7
set $colorbblu     #407ee7
set $colormag      #6666ea
set $colorbmag     #6666ea
set $colorcyn      #00ad9c
set $colorbcyn     #00ad9c
set $colorwht      #a8a19f
set $colorbwht     #f1efee
set $colorinactive #373b41

#                        border      bg          fg                indicator
client.focused           $colorbg    $colorbg    $colorfg          $colorbg
client.focused_inactive  $colorbg    $colorbg    $colorinactive    $colorbg
client.unfocused         $colorbg    $colorbg    $colorinactive    $colorbg
client.urgent            $colorbg    $colorred   $colorred         $colorbg
client.background        $colorbg

# Bar
bar {
  tray_output primary
  position top
  font xft: Hack 8

  colors {
    background $colorbg
    statusline $colorfg
    separator  $colorfg

                       # border   #background   #text
    focused_workspace  $colorbg   $colorbg      $colorfg
    active_workspace   $colorwht  $colorwht     $colorblk
    inactive_workspace $colorbg   $colorbg      $colorinactive
    urgent_workspace   $colorbg   $colorbg      $colorred
  }

  status_command i3blocks -c $AAKU/i3/i3blocks.conf
}

# Launching programs
bindsym $mod+f     exec rofi -show drun
bindsym $mod+w     exec rofi -show window
bindsym $mod+t     exec i3-sensible-terminal
bindsym $mod+space exec --no-startup-id switch-layout

bindsym $mod+Delete mode "system"
mode "system" {
  bindsym l exec --no-startup-id i3exit lock, mode "default"
  bindsym o exec --no-startup-id i3exit logout, mode "default"
  bindsym s exec --no-startup-id i3exit suspend, mode "default"
  bindsym h exec --no-startup-id i3exit hibernate, mode "default"
  bindsym r exec --no-startup-id i3exit reboot, mode "default"
  bindsym d exec --no-startup-id i3exit shutdown, mode "default"

  bindsym Return mode "default"
  bindsym Escape mode "default"
}

bindsym Print exec scrot $HOME/Pictures/screenshots/`date +%Y-%m-%d_%H:%M:%S`.png
bindsym $mod+Print mode "screenshot"
mode "screenshot" {
  bindsym a exec scrot         $HOME/Pictures/screenshots/`date +%Y-%m-%d_%H:%M:%S`.png, mode "default"
  bindsym f exec scrot -u      $HOME/Pictures/screenshots/`date +%Y-%m-%d_%H:%M:%S`.png, mode "default"
  bindsym d exec scrot -d 3    $HOME/Pictures/screenshots/`date +%Y-%m-%d_%H:%M:%S`.png, mode "default"
  bindsym s exec scrot -u -d 3 $HOME/Pictures/screenshots/`date +%Y-%m-%d_%H:%M:%S`.png, mode "default"

  bindsym Return mode "default"
  bindsym Escape mode "default"
}

# Application rules
assign [class="Chrome"] → 2
assign [class="Chromium"] → 2
assign [class="Firefox"] → 2

# Autostart
exec --no-startup-id i3exit lock
exec --no-startup-id xrandr --output eDP-1 --mode 1920x1080
exec --no-startup-id dunst -config $AAKU/app-config/dunstrc
exec --no-startup-id xrdb ~/.Xresources
exec --no-startup-id $HOME/.fehbg
exec --no-startup-id compton --config ~/.config/compton/compton.conf -b
